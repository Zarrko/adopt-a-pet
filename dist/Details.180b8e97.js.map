{"version":3,"sources":["Carousel.js","Modal.js","Details.js"],"names":["Carousel","state","photos","active","handleIndexClick","event","setState","target","dataset","index","value","map","photo","media","filter","React","Component","modalRoot","document","getElementById","Modal","props","el","createElement","appendChild","removeChild","children","petfinder","key","secret","loading","LoadableContent","loader","Details","showModal","toggleModal","pet","get","output","id","then","data","breed","Array","isArray","breeds","join","name","animal","location","contact","city","description","catch","err","error","console","log"],"mappings":"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","file":"Details.180b8e97.js","sourceRoot":"../src","sourcesContent":["import React from \"react\";\n\nclass Carousel extends React.Component {\n  state = {\n    photos: [],\n    active: 0\n  };\n\n  static getDerivedStateFromProps({ media }) {\n    let photos = [];\n\n    if (media && media.photos && media.photos.photo) {\n      photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\n    }\n\n    return { photos };\n  }\n  handleIndexClick = event => {\n    this.setState({\n      active: +event.target.dataset.index //cast string to number. Returns string but cast to number\n    });\n  };\n  render() {\n    const { photos, active } = this.state;\n    return (\n      <div className=\"carousel\">\n        <img src={photos[active].value} alt=\"Primary Name\" />\n        <div className=\"carousel-smaller\">\n          {photos.map((photo, index) => (\n            /* eslint-disable-next-line */\n            <img\n              onClick={this.handleIndexClick}\n              data-index={index}\n              key={photo.value}\n              src={photo.value}\n              className={index === active ? \"active\" : \"\"}\n              alt=\"Animal Thumbnail\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n\n// Arrow functions reverts to wherever it is created.\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.getElementById(\"modal\");\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.el = document.createElement(\"div\");\n  }\n\n  componentDidMount() {\n    modalRoot.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    modalRoot.removeChild(this.el);\n  }\n\n  render() {\n    return createPortal(this.props.children, this.el);\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport pf from \"petfinder-client\";\nimport Loadable from \"react-loadable\";\nimport Carousel from \"./Carousel\";\nimport Modal from \"./Modal\";\n\nconst petfinder = pf({\n  key: process.env.API_KEY,\n  secret: process.env.API_SECRET\n});\n\nconst loading = () => <h1> Loading Content..</h1>;\n\nconst LoadableContent = Loadable({\n  loader: () => import(\"./AdoptModalContent\"),\n  loading\n});\n\nclass Details extends React.Component {\n  state = {\n    loading: true,\n    showModal: false\n  };\n\n  toggleModal = () => this.setState({ showModal: !this.state.showModal });\n\n  componentDidMount() {\n    petfinder.pet\n      .get({\n        output: \"full\",\n        id: this.props.id\n      })\n      .then(data => {\n        const pet = data.petfinder.pet;\n        let breed;\n\n        if (Array.isArray(pet.breeds.breed)) {\n          breed = pet.breeds.breed.join(\", \");\n        } else {\n          breed = pet.breeds.breed;\n        }\n\n        this.setState({\n          name: pet.name,\n          animal: pet.animal,\n          location: `${pet.contact.city}, ${pet.contact.state}`,\n          description: pet.description,\n          media: pet.media,\n          breed,\n          loading: false\n        });\n      })\n      .catch(err => {\n        this.setState({ error: err });\n        // navigate(\"/\");\n      });\n  }\n  render() {\n    if (this.state.loading) {\n      return <h1>Loading ...</h1>;\n    }\n    const {\n      name,\n      animal,\n      breed,\n      location,\n      description,\n      media,\n      showModal\n    } = this.state;\n\n    return (\n      /* eslint-disable */\n      <div className=\"details\">\n        <Carousel media={media} />\n        <div\n          onClick={console.log(\n            \"I can catch events out of Modal here as much as it is in a different part of DOM\"\n          )}\n        >\n          <h1>{name}</h1>\n          <h2>\n            {animal} - {breed} - {location}\n          </h2>\n          <button onClick={this.toggleModal}> Adopt {name}</button>\n          <p>{description}</p>\n          {showModal ? (\n            <Modal>\n              <LoadableContent toggleModal={this.toggleModal} name = {name} />\n            </Modal>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Details;\n"]}